OpenLayers.WPSClient=OpenLayers.Class({servers:null,version:"1.0.0",lazy:false,events:null,initialize:function(a){OpenLayers.Util.extend(this,a);this.events=new OpenLayers.Events(this);this.servers={};for(var b in a.servers){this.servers[b]=typeof a.servers[b]=="string"?{url:a.servers[b],version:this.version,processDescription:{}}:a.servers[b]}},execute:function(a){var b=this.getProcess(a.server,a.process);b.execute({inputs:a.inputs,success:a.success,scope:a.scope})},getProcess:function(a,c){var b=new OpenLayers.WPSProcess({client:this,server:a,identifier:c});if(!this.lazy){b.describe()}return b},describeProcess:function(a,e,f,b){var d=this.servers[a];if(!d.processDescription[e]){if(!(e in d.processDescription)){d.processDescription[e]=null;OpenLayers.Request.GET({url:d.url,params:{SERVICE:"WPS",VERSION:d.version,REQUEST:"DescribeProcess",IDENTIFIER:e},success:function(g){d.processDescription[e]=g.responseText;this.events.triggerEvent("describeprocess",{identifier:e,raw:g.responseText})},scope:this})}else{this.events.register("describeprocess",this,function c(g){if(g.identifier===e){this.events.unregister("describeprocess",this,c);f.call(b,g.raw)}})}}else{window.setTimeout(function(){f.call(b,d.processDescription[e])},0)}},destroy:function(){this.events.destroy();this.events=null;this.servers=null},CLASS_NAME:"OpenLayers.WPSClient"});