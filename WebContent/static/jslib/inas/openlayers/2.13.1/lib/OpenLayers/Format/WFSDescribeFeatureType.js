OpenLayers.Format.WFSDescribeFeatureType=OpenLayers.Class(OpenLayers.Format.XML,{regExes:{trimSpace:(/^\s*|\s*$/g)},namespaces:{xsd:"http://www.w3.org/2001/XMLSchema"},readers:{xsd:{schema:function(d,h){var e=[];var b={};var f={complexTypes:e,customTypes:b};var j,k;this.readChildNodes(d,f);var g=d.attributes;var l,a;for(j=0,k=g.length;j<k;++j){l=g[j];a=l.name;if(a.indexOf("xmlns")===0){this.setNamespace(a.split(":")[1]||"",l.value)}else{h[a]=l.value}}h.featureTypes=e;h.targetPrefix=this.namespaceAlias[h.targetNamespace];var m,c;for(j=0,k=e.length;j<k;++j){m=e[j];c=b[m.typeName];if(b[m.typeName]){m.typeName=c.name}}},complexType:function(b,c){var a={typeName:b.getAttribute("name")};this.readChildNodes(b,a);c.complexTypes.push(a)},complexContent:function(a,b){this.readChildNodes(a,b)},extension:function(a,b){this.readChildNodes(a,b)},sequence:function(a,b){var c={elements:[]};this.readChildNodes(a,c);b.properties=c.elements},element:function(a,c){var h;if(c.elements){var d={};var b=a.attributes;var g;for(var e=0,f=b.length;e<f;++e){g=b[e];d[g.name]=g.value}h=d.type;if(!h){h={};this.readChildNodes(a,h);d.restriction=h;d.type=h.base}var k=h.base||h;d.localType=k.split(":").pop();c.elements.push(d);this.readChildNodes(a,d)}if(c.complexTypes){h=a.getAttribute("type");var j=h.split(":").pop();c.customTypes[j]={name:a.getAttribute("name"),type:h}}},annotation:function(a,b){b.annotation={};this.readChildNodes(a,b.annotation)},appinfo:function(a,b){if(!b.appinfo){b.appinfo=[]}b.appinfo.push(this.getChildValue(a))},documentation:function(a,c){if(!c.documentation){c.documentation=[]}var b=this.getChildValue(a);c.documentation.push({lang:a.getAttribute("xml:lang"),textContent:b.replace(this.regExes.trimSpace,"")})},simpleType:function(a,b){this.readChildNodes(a,b)},restriction:function(a,b){b.base=a.getAttribute("base");this.readRestriction(a,b)}}},readRestriction:function(d,f){var c=d.childNodes;var h,g,e;for(var b=0,a=c.length;b<a;++b){h=c[b];if(h.nodeType==1){g=h.nodeName.split(":").pop();e=h.getAttribute("value");if(!f[g]){f[g]=e}else{if(typeof f[g]=="string"){f[g]=[f[g]]}f[g].push(e)}}}},read:function(b){if(typeof b=="string"){b=OpenLayers.Format.XML.prototype.read.apply(this,[b])}if(b&&b.nodeType==9){b=b.documentElement}var a={};if(b.nodeName.split(":").pop()==="ExceptionReport"){var c=new OpenLayers.Format.OGCExceptionReport();a.error=c.read(b)}else{this.readNode(b,a)}return a},CLASS_NAME:"OpenLayers.Format.WFSDescribeFeatureType"});