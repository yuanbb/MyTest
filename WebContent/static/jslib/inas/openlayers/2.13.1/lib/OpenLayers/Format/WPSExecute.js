OpenLayers.Format.WPSExecute=OpenLayers.Class(OpenLayers.Format.XML,OpenLayers.Format.Filter.v1_1_0,{namespaces:{ows:"http://www.opengis.net/ows/1.1",gml:"http://www.opengis.net/gml",wps:"http://www.opengis.net/wps/1.0.0",wfs:"http://www.opengis.net/wfs",ogc:"http://www.opengis.net/ogc",wcs:"http://www.opengis.net/wcs",xlink:"http://www.w3.org/1999/xlink",xsi:"http://www.w3.org/2001/XMLSchema-instance"},regExes:{trimSpace:(/^\s*|\s*$/g),removeSpace:(/\s*/g),splitSpace:(/\s+/),trimComma:(/\s*,\s*/g)},VERSION:"1.0.0",schemaLocation:"http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsAll.xsd",schemaLocationAttr:function(a){return undefined},write:function(a){var c;if(window.ActiveXObject){c=new ActiveXObject("Microsoft.XMLDOM");this.xmldom=c}else{c=document.implementation.createDocument("","",null)}var b=this.writeNode("wps:Execute",a,c);this.setAttributeNS(b,this.namespaces.xsi,"xsi:schemaLocation",this.schemaLocation);return OpenLayers.Format.XML.prototype.write.apply(this,[b])},read:function(a){if(typeof a=="string"){a=OpenLayers.Format.XML.prototype.read.apply(this,[a])}if(a&&a.nodeType==9){a=a.documentElement}var b={};this.readNode(a,b);return b},writers:{wps:{Execute:function(a){var b=this.createElementNSPlus("wps:Execute",{attributes:{version:this.VERSION,service:"WPS"}});this.writeNode("ows:Identifier",a.identifier,b);this.writeNode("wps:DataInputs",a.dataInputs,b);this.writeNode("wps:ResponseForm",a.responseForm,b);return b},ResponseForm:function(a){var b=this.createElementNSPlus("wps:ResponseForm",{});if(a.rawDataOutput){this.writeNode("wps:RawDataOutput",a.rawDataOutput,b)}if(a.responseDocument){this.writeNode("wps:ResponseDocument",a.responseDocument,b)}return b},ResponseDocument:function(c){var d=this.createElementNSPlus("wps:ResponseDocument",{attributes:{storeExecuteResponse:c.storeExecuteResponse,lineage:c.lineage,status:c.status}});if(c.outputs){for(var b=0,a=c.outputs.length;b<a;b++){this.writeNode("wps:Output",c.outputs[b],d)}}return d},Output:function(a){var b=this.createElementNSPlus("wps:Output",{attributes:{asReference:a.asReference,mimeType:a.mimeType,encoding:a.encoding,schema:a.schema}});this.writeNode("ows:Identifier",a.identifier,b);this.writeNode("ows:Title",a.title,b);this.writeNode("ows:Abstract",a["abstract"],b);return b},RawDataOutput:function(a){var b=this.createElementNSPlus("wps:RawDataOutput",{attributes:{mimeType:a.mimeType,encoding:a.encoding,schema:a.schema}});this.writeNode("ows:Identifier",a.identifier,b);return b},DataInputs:function(a){var d=this.createElementNSPlus("wps:DataInputs",{});for(var b=0,c=a.length;b<c;++b){this.writeNode("wps:Input",a[b],d)}return d},Input:function(a){var b=this.createElementNSPlus("wps:Input",{});this.writeNode("ows:Identifier",a.identifier,b);if(a.title){this.writeNode("ows:Title",a.title,b)}if(a.data){this.writeNode("wps:Data",a.data,b)}if(a.reference){this.writeNode("wps:Reference",a.reference,b)}if(a.boundingBoxData){this.writeNode("wps:BoundingBoxData",a.boundingBoxData,b)}return b},Data:function(b){var a=this.createElementNSPlus("wps:Data",{});if(b.literalData){this.writeNode("wps:LiteralData",b.literalData,a)}else{if(b.complexData){this.writeNode("wps:ComplexData",b.complexData,a)}else{if(b.boundingBoxData){this.writeNode("ows:BoundingBox",b.boundingBoxData,a)}}}return a},LiteralData:function(b){var a=this.createElementNSPlus("wps:LiteralData",{attributes:{uom:b.uom},value:b.value});return a},ComplexData:function(a){var b=this.createElementNSPlus("wps:ComplexData",{attributes:{mimeType:a.mimeType,encoding:a.encoding,schema:a.schema}});var c=a.value;if(typeof c==="string"){b.appendChild(this.getXMLDoc().createCDATASection(a.value))}else{b.appendChild(c)}return b},Reference:function(a){var b=this.createElementNSPlus("wps:Reference",{attributes:{mimeType:a.mimeType,"xlink:href":a.href,method:a.method,encoding:a.encoding,schema:a.schema}});if(a.body){this.writeNode("wps:Body",a.body,b)}return b},BoundingBoxData:function(a,b){this.writers.ows["BoundingBox"].apply(this,[a,b,"wps:BoundingBoxData"])},Body:function(a){var b=this.createElementNSPlus("wps:Body",{});if(a.wcs){this.writeNode("wcs:GetCoverage",a.wcs,b)}else{if(a.wfs){this.featureType=a.wfs.featureType;this.version=a.wfs.version;this.writeNode("wfs:GetFeature",a.wfs,b)}else{this.writeNode("wps:Execute",a,b)}}return b}},wcs:OpenLayers.Format.WCSGetCoverage.prototype.writers.wcs,wfs:OpenLayers.Format.WFST.v1_1_0.prototype.writers.wfs,ogc:OpenLayers.Format.Filter.v1_1_0.prototype.writers.ogc,ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.writers.ows},readers:{wps:{ExecuteResponse:function(a,b){b.executeResponse={lang:a.getAttribute("lang"),statusLocation:a.getAttribute("statusLocation"),serviceInstance:a.getAttribute("serviceInstance"),service:a.getAttribute("service")};this.readChildNodes(a,b.executeResponse)},Process:function(a,b){b.process={};this.readChildNodes(a,b.process)},Status:function(a,b){b.status={creationTime:a.getAttribute("creationTime")};this.readChildNodes(a,b.status)},ProcessSucceeded:function(a,b){b.processSucceeded=true},ProcessOutputs:function(b,a){a.processOutputs=[];this.readChildNodes(b,a.processOutputs)},Output:function(c,b){var a={};this.readChildNodes(c,a);b.push(a)},Reference:function(b,a){a.reference={href:b.getAttribute("href"),mimeType:b.getAttribute("mimeType"),encoding:b.getAttribute("encoding"),schema:b.getAttribute("schema")}},Data:function(b,a){a.data={};this.readChildNodes(b,a)},LiteralData:function(b,a){a.literalData={dataType:b.getAttribute("dataType"),uom:b.getAttribute("uom"),value:this.getChildValue(b)}},ComplexData:function(b,a){a.complexData={mimeType:b.getAttribute("mimeType"),schema:b.getAttribute("schema"),encoding:b.getAttribute("encoding"),value:""};if(this.isSimpleContent(b)){var c;for(c=b.firstChild;c;c=c.nextSibling){switch(c.nodeType){case 3:case 4:a.complexData.value+=c.nodeValue}}}else{for(c=b.firstChild;c;c=c.nextSibling){if(c.nodeType==1){a.complexData.value=c}}}},BoundingBox:function(b,a){a.boundingBoxData={dimensions:b.getAttribute("dimensions"),crs:b.getAttribute("crs")};this.readChildNodes(b,a.boundingBoxData)}},ows:OpenLayers.Format.OWSCommon.v1_1_0.prototype.readers.ows},CLASS_NAME:"OpenLayers.Format.WPSExecute"});