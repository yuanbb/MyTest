OpenLayers.Format.Text=OpenLayers.Class(OpenLayers.Format,{defaultStyle:null,extractStyles:true,initialize:function(a){a=a||{};if(a.extractStyles!==false){a.defaultStyle={externalGraphic:OpenLayers.Util.getImageLocation("marker.png"),graphicWidth:21,graphicHeight:25,graphicXOffset:-10.5,graphicYOffset:-12.5}}OpenLayers.Format.prototype.initialize.apply(this,[a])},read:function(j){var a=j.split("\n");var b;var g=[];for(var t=0;t<(a.length-1);t++){var s=a[t].replace(/^\s*/,"").replace(/\s*$/,"");if(s.charAt(0)!="#"){if(!b){b=s.split("\t")}else{var l=s.split("\t");var d=new OpenLayers.Geometry.Point(0,0);var h={};var p=this.defaultStyle?OpenLayers.Util.applyDefaults({},this.defaultStyle):null;var q,r,c,n;var k=false;for(var i=0;i<l.length;i++){if(l[i]){if(b[i]=="point"){var o=l[i].split(",");d.y=parseFloat(o[0]);d.x=parseFloat(o[1]);k=true}else{if(b[i]=="lat"){d.y=parseFloat(l[i]);k=true}else{if(b[i]=="lon"){d.x=parseFloat(l[i]);k=true}else{if(b[i]=="title"){h.title=l[i]}else{if(b[i]=="image"||b[i]=="icon"&&p){p.externalGraphic=l[i]}else{if(b[i]=="iconSize"&&p){var m=l[i].split(",");p.graphicWidth=parseFloat(m[0]);p.graphicHeight=parseFloat(m[1])}else{if(b[i]=="iconOffset"&&p){var f=l[i].split(",");p.graphicXOffset=parseFloat(f[0]);p.graphicYOffset=parseFloat(f[1])}else{if(b[i]=="description"){h.description=l[i]}else{if(b[i]=="overflow"){h.overflow=l[i]}else{h[b[i]]=l[i]}}}}}}}}}}}if(k){if(this.internalProjection&&this.externalProjection){d.transform(this.externalProjection,this.internalProjection)}var e=new OpenLayers.Feature.Vector(d,h,p);g.push(e)}}}}return g},CLASS_NAME:"OpenLayers.Format.Text"});